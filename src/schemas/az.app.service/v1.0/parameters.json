{
    "$schema": "http://json-schema.org/draft-07/schema",
    "definitions": {
        "app-services": {
            "properties": {
                "value": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "appServiceName": {
                                "type": "string"
                            },
                            "appServiceType": {
                                "type": "string",
                                "oneOf": [
                                    {
                                        "const": "web"
                                    },
                                    {
                                        "const": "functionapp"
                                    },
                                    {
                                        "const": "functionapp,linux"
                                    }
                                ]
                            },
                            "appServicePlatform": {
                                "type": "string",
                                "oneOf": [
                                    {
                                        "const": "dotnet"
                                    },
                                    {
                                        "const": "java"
                                    },
                                    {
                                        "const": "node"
                                    },
                                    {
                                        "const": "python"
                                    },
                                    {
                                        "const": "php"
                                    }
                                ]
                            },
                            "appServicePlatformVersion": {
                                "type": "string"
                            },
                            "appServiceMsiEnabled": {
                                "type": "boolean",
                                "default": false
                            },
                            "appServiceMsiRoleAssignments": {
                                "type": "array",
                                "items": {
                                    "$ref": "../../az.rbac/v1.0/parameters.json#/definitions/roleAssignment"
                                }
                            },
                            "appServicePlanName": {
                                "type": "string",
                                "description": "The name of the App Service Plan"
                            },
                            "appServicePlanResourceGroup": {
                                "type": "string",
                                "description": "The name of the resource group in which the App Service Plan lives in"
                            },
                            "appServiceStorageAccountName": {
                                "type": "string"
                            },
                            "appServiceStorageAccountResourceGroup": {
                                "type": "string"
                            },
                            "appServiceAppInsightsName": {
                                "type": "string"
                            },
                            "appServiceAppInsightsResourceGroup": {
                                "type": "string"
                            },
                            "appServiceSettings": {
                                "type": "object",
                                "properties": {
                                    "httpsOnly": {
                                        "type": "boolean",
                                        "default": true
                                    },
                                    "appServiceSiteSettings": {
                                        "type": "array",
                                        "description": "The site settings for the app service",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "name": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "name",
                                                "value"
                                            ]
                                        }
                                    },
                                    "appServiceAuthSettings": {
                                        "$ref": "#/definitions/app-service-auth-settings"
                                    },
                                    "appServiceMetadataSettings": {
                                        "oneOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "object"
                                            }
                                        ]
                                    },
                                    "appServiceApimSettings": {
                                        "oneOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "object",
                                                "properties": {
                                                    "apimApiName": {
                                                        "type": "string"
                                                    },
                                                    "apimName": {
                                                        "type": "string"
                                                    },
                                                    "apimResourceGroupName": {
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "apimApiName",
                                                    "apimName",
                                                    "apimResourceGroupName"
                                                ]
                                            }
                                        ]
                                    }
                                }
                            },
                            "appServiceConfigs": {
                                "type": "object",
                                "properties": {
                                    "alwaysOn": {
                                        "type": "boolean"
                                    }
                                }
                            },
                            "appServiceSlots": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "functions": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "isEnabled": {
                                                        "type": "boolean"
                                                    }
                                                },
                                                "required": [
                                                    "name",
                                                    "isEnabled"
                                                ]
                                            }
                                        }
                                    },
                                    "required": [
                                        "name",
                                        "functions"
                                    ]
                                }
                            },
                            "appServiceSlotsConfigNames": {
                                "$ref": "#/definitions/app-slot-config-name"
                            },
                            "appServiceTags": {
                                "type": "object",
                                "patternProperties": {
                                    "^[a-z]": {
                                        "type": "string"
                                    }
                                },
                                "minProperties": 1
                            }
                        },
                        "required": [
                            "appServiceName",
                            "appServiceType",
                            "appServicePlatform",
                            "appServicePlatformVersion",
                            "appServiceStorageAccountName",
                            "appServiceStorageAccountResourceGroup",
                            "appServiceAppInsightsName",
                            "appServiceAppInsightsResourceGroup",
                            "appServiceMsiEnabled"
                        ]
                    }
                }
            },
            "required": [
                "value"
            ]
        },
        "app-service-slots": {
            "properties": {
                "value": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "appServiceSlotName": {
                                "type": "string"
                            },
                            "type": {
                                "type": "string",
                                "oneOf": [
                                    {
                                        "const": "web"
                                    },
                                    {
                                        "const": "functionapp"
                                    },
                                    {
                                        "const": "functionapp,linux"
                                    }
                                ]
                            },
                            "appServiceSlotPlatform": {
                                "type": "string",
                                "oneOf": [
                                    {
                                        "const": "dotnet"
                                    },
                                    {
                                        "const": "java"
                                    },
                                    {
                                        "const": "node"
                                    },
                                    {
                                        "const": "python"
                                    },
                                    {
                                        "const": "php"
                                    }
                                ]
                            },
                            "appServiceSlotPlatformVersion": {
                                "type": "string"
                            },
                            "appServiceSlotEnableMsi": {
                                "type": "boolean",
                                "default": false
                            },
                            "appServiceSlotPlanName": {
                                "type": "string",
                                "description": "The name of the App Service Plan"
                            },
                            "appServiceSlotPlanResourceGroup": {
                                "type": "string",
                                "description": "The name of the resource group in which the App Service Plan lives in"
                            },
                            "appServiceSlotStorageAccountName": {
                                "type": "string"
                            },
                            "appServiceSlotStorageAccountResourceGroup": {
                                "type": "string"
                            },
                            "appServiceSlotAppInsightsName": {
                                "type": "string"
                            },
                            "appServiceSlotAppInsightsResourceGroup": {
                                "type": "string"
                            },
                            "appServiceSlotSettings": {
                                "type": "object",
                                "properties": {
                                    "httpsOnly": {
                                        "type": "boolean",
                                        "default": true
                                    },
                                    "appServiceSlotSiteSettings": {
                                        "type": "array",
                                        "description": "The site settings for the app service",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "name": {
                                                    "type": "string"
                                                },
                                                "value": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "name",
                                                "value"
                                            ]
                                        }
                                    },
                                    "appServiceSlotAuthSettings": {
                                        "$ref": "#/definitions/app-service-auth-settings"
                                    },
                                    "appServiceSlotMetadataSettings": {
                                        "oneOf": [
                                            {
                                                "type": "null"
                                            },
                                            {
                                                "type": "object"
                                            }
                                        ]
                                    },
                                    "appServiceSlotApimSettings": {
                                        "type": "object",
                                        "properties": {
                                            "apimApiName": {
                                                "type": "string"
                                            },
                                            "apimName": {
                                                "type": "string"
                                            },
                                            "apimResourceGroupName": {
                                                "type": "string"
                                            }
                                        },
                                        "required": [
                                            "apimApiName",
                                            "apimName",
                                            "apimResourceGroupName"
                                        ]
                                    }
                                }
                            },
                            "appServiceSlotTags": {
                                "type": "object",
                                "patternProperties": {
                                    "^[a-z]": {
                                        "type": "string"
                                    }
                                },
                                "minProperties": 1
                            }
                        },
                        "required": [
                            "appServiceSlotName",
                            "appServiceSlotType",
                            "appServiceSlotPlatform",
                            "appServiceSlotPlatformVersion",
                            "appServiceSlotStorageAccountName",
                            "appServiceSlotStorageAccountResourceGroup",
                            "appServiceSlotAppInsightsName",
                            "appServiceSlotAppInsightsResourceGroup"
                        ]
                    }
                }
            },
            "required": [
                "value"
            ]
        },
        "app-slot-config-names": {
            "properties": {
                "value": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "appName": {
                                "type": "string"
                            },
                            "appResourceGroupName": {
                                "type": "string"
                            },
                            "appSettingNames": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "appConnectionStringSettingNames": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "appStorageAccountSettingNames": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        },
                        "required": [
                            "appName",
                            "appResourceGroupName",
                            "appSettingNames",
                            "appConnectionStringSettingNames",
                            "appStorageAccountSettingNames"
                        ]
                    }
                }
            },
            "required": [
                "value"
            ]
        },
        "app-slot-config-name": {
            "description": "Specify configurations names to be recognized as slot only settings.",
            "properties": {
                "appSettingNames": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "connectionStringSettingNames": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "storageAccountSettingNames": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": [
                "appSettingNames",
                "connectionStringSettingNames",
                "storageAccountSettingNames"
            ]
        },
        "app-service-plans": {
            "type": "object",
            "properties": {
                "value": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "name": {
                                "type": "string"
                            },
                            "os": {
                                "type": "string",
                                "oneOf": [
                                    {
                                        "const": "windows"
                                    },
                                    {
                                        "const": "linux"
                                    }
                                ]
                            },
                            "sku": {
                                "type": "object",
                                "properties": {
                                    "dev": {
                                        "type": "string",
                                        "oneOf": [
                                            {
                                                "const": "D1"
                                            },
                                            {
                                                "const": "B1"
                                            }
                                        ]
                                    },
                                    "qa": {
                                        "type": "string"
                                    },
                                    "uat": {
                                        "type": "string"
                                    },
                                    "prd": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "dev",
                                    "qa",
                                    "uat",
                                    "prd"
                                ]
                            },
                            "aseName": {
                                "oneOf": [
                                    {
                                        "type": "null"
                                    },
                                    {
                                        "type": "string"
                                    }
                                ]
                            },
                            "aseResourceGroup": {
                                "oneOf": [
                                    {
                                        "type": "null"
                                    },
                                    {
                                        "type": "string"
                                    }
                                ]
                            }
                        },
                        "required": [
                            "name",
                            "os",
                            "sku",
                            "aseName",
                            "aseResourceGroup",
                            "tags"
                        ]
                    }
                }
            },
            "required": [
                "value"
            ]
        },
        "app-service-environments": {
            "properties": {
                "value": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "name": {
                                "type": "string"
                            },
                            "plans": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "os": {
                                            "type": "string",
                                            "oneOf": [
                                                {
                                                    "const": "windows"
                                                },
                                                {
                                                    "const": "linux"
                                                }
                                            ]
                                        },
                                        "sku": {
                                            "type": "object",
                                            "properties": {
                                                "dev": {
                                                    "type": "string",
                                                    "oneOf": [
                                                        {
                                                            "const": "D1"
                                                        },
                                                        {
                                                            "const": "B1"
                                                        }
                                                    ]
                                                },
                                                "qa": {
                                                    "type": "string"
                                                },
                                                "uat": {
                                                    "type": "string"
                                                },
                                                "prd": {
                                                    "type": "string"
                                                }
                                            },
                                            "required": [
                                                "dev",
                                                "qa",
                                                "uat",
                                                "prd"
                                            ]
                                        },
                                        "storage": {
                                            "type": "object",
                                            "properties": {
                                                "name": {
                                                    "type": "string"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "oneOf": [
                                                        {
                                                            "const": "Storage"
                                                        },
                                                        {
                                                            "const": "StorageV2"
                                                        },
                                                        {
                                                            "const": "BlobStorage"
                                                        },
                                                        {
                                                            "const": "BlockBlobStorage"
                                                        },
                                                        {
                                                            "const": "FileStorage"
                                                        }
                                                    ]
                                                },
                                                "accessTier": {
                                                    "type": "string",
                                                    "oneOf": [
                                                        {
                                                            "const": "hot"
                                                        },
                                                        {
                                                            "const": "cool"
                                                        }
                                                    ]
                                                },
                                                "tier": {
                                                    "type": "object",
                                                    "properties": {
                                                        "dev": {
                                                            "type": "string"
                                                        },
                                                        "qa": {
                                                            "type": "string"
                                                        },
                                                        "uat": {
                                                            "type": "string"
                                                        },
                                                        "prd": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "required": [
                                                        "dev",
                                                        "qa",
                                                        "uat",
                                                        "prd"
                                                    ]
                                                },
                                                "redundancy": {
                                                    "type": "object",
                                                    "properties": {
                                                        "dev": {
                                                            "type": "string",
                                                            "oneOf": [
                                                                {
                                                                    "const": "lrs"
                                                                },
                                                                {
                                                                    "const": "grs"
                                                                },
                                                                {
                                                                    "const": "grzs"
                                                                }
                                                            ]
                                                        },
                                                        "qa": {
                                                            "type": "string",
                                                            "oneOf": [
                                                                {
                                                                    "const": "lrs"
                                                                },
                                                                {
                                                                    "const": "grs"
                                                                },
                                                                {
                                                                    "const": "grzs"
                                                                }
                                                            ]
                                                        },
                                                        "uat": {
                                                            "type": "string",
                                                            "oneOf": [
                                                                {
                                                                    "const": "lrs"
                                                                },
                                                                {
                                                                    "const": "grs"
                                                                },
                                                                {
                                                                    "const": "grzs"
                                                                }
                                                            ]
                                                        },
                                                        "prd": {
                                                            "type": "string",
                                                            "oneOf": [
                                                                {
                                                                    "const": "lrs"
                                                                },
                                                                {
                                                                    "const": "grs"
                                                                },
                                                                {
                                                                    "const": "grzs"
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    "required": [
                                                        "dev",
                                                        "qa",
                                                        "uat",
                                                        "prd"
                                                    ]
                                                },
                                                "defaultNetworkAccess": {
                                                    "type": "string",
                                                    "default": "Allow",
                                                    "oneOf": [
                                                        {
                                                            "const": "Allow"
                                                        },
                                                        {
                                                            "const": "Deny"
                                                        }
                                                    ]
                                                },
                                                "virtualNetworks": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "allowAccess": {
                                                                "type": "boolean",
                                                                "default": true
                                                            },
                                                            "virtualNetwork": {
                                                                "type": "string"
                                                            },
                                                            "virtualNetworkSubnet": {
                                                                "type": "string"
                                                            },
                                                            "virtualNetworkResourceGroup": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "required": [
                                                            "allowAccess",
                                                            "virtualNetwork",
                                                            "virtualNetworkSubnet",
                                                            "virtualNetworkResourceGroup"
                                                        ]
                                                    }
                                                },
                                                "resourceAccess": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "resourceName": {
                                                                "type": "string"
                                                            },
                                                            "resourceType": {
                                                                "type": "string"
                                                            },
                                                            "resourceGroup": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "required": [
                                                            "resourceName",
                                                            "resourceType",
                                                            "resourceGroup"
                                                        ]
                                                    }
                                                },
                                                "blobServices": {
                                                    "oneOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "containers": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "type": "object",
                                                                        "properties": {
                                                                            "name": {
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "name"
                                                                        ]
                                                                    }
                                                                },
                                                                "privateEndpoint": {
                                                                    "oneOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "properties": {
                                                                                "name": {
                                                                                    "type": "string"
                                                                                },
                                                                                "privateDnsZone": {
                                                                                    "type": "string"
                                                                                },
                                                                                "privateDnsZoneResourceGroup": {
                                                                                    "type": "string",
                                                                                    "description": ""
                                                                                },
                                                                                "virtualNetwork": {
                                                                                    "type": "string"
                                                                                },
                                                                                "virtualNetworkSubnet": {
                                                                                    "type": "string"
                                                                                },
                                                                                "virtualNetworkResourceGroup": {
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "required": [
                                                                                "name",
                                                                                "privateDnsZone",
                                                                                "privateDnsZoneResourceGroup",
                                                                                "virtualNetwork",
                                                                                "virtualNetworkSubnet",
                                                                                "virtualNetworkResourceGroup"
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "null"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            "required": [
                                                                "containers",
                                                                "privateEndpoint"
                                                            ]
                                                        }
                                                    ]
                                                },
                                                "tableServices": {
                                                    "oneOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "tables": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "type": "object",
                                                                        "properties": {
                                                                            "name": {
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "name"
                                                                        ]
                                                                    }
                                                                },
                                                                "privateEndpoint": {
                                                                    "oneOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "properties": {
                                                                                "name": {
                                                                                    "type": "string"
                                                                                },
                                                                                "privateDnsZone": {
                                                                                    "type": "string"
                                                                                },
                                                                                "privateDnsZoneResourceGroup": {
                                                                                    "type": "string",
                                                                                    "description": ""
                                                                                },
                                                                                "virtualNetwork": {
                                                                                    "type": "string"
                                                                                },
                                                                                "virtualNetworkSubnet": {
                                                                                    "type": "string"
                                                                                },
                                                                                "virtualNetworkResourceGroup": {
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "required": [
                                                                                "name",
                                                                                "privateDnsZone",
                                                                                "privateDnsZoneResourceGroup",
                                                                                "virtualNetwork",
                                                                                "virtualNetworkSubnet",
                                                                                "virtualNetworkResourceGroup"
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "null"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            "required": [
                                                                "tables",
                                                                "privateEndpoint"
                                                            ]
                                                        }
                                                    ]
                                                },
                                                "queueServices": {
                                                    "oneOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "queues": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "type": "object",
                                                                        "properties": {
                                                                            "name": {
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "name"
                                                                        ]
                                                                    }
                                                                },
                                                                "privateEndpoint": {
                                                                    "oneOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "properties": {
                                                                                "name": {
                                                                                    "type": "string"
                                                                                },
                                                                                "privateDnsZone": {
                                                                                    "type": "string"
                                                                                },
                                                                                "privateDnsZoneResourceGroup": {
                                                                                    "type": "string",
                                                                                    "description": ""
                                                                                },
                                                                                "virtualNetwork": {
                                                                                    "type": "string"
                                                                                },
                                                                                "virtualNetworkSubnet": {
                                                                                    "type": "string"
                                                                                },
                                                                                "virtualNetworkResourceGroup": {
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "required": [
                                                                                "name",
                                                                                "privateDnsZone",
                                                                                "privateDnsZoneResourceGroup",
                                                                                "virtualNetwork",
                                                                                "virtualNetworkSubnet",
                                                                                "virtualNetworkResourceGroup"
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "null"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            "required": [
                                                                "queues",
                                                                "privateEndpoint"
                                                            ]
                                                        }
                                                    ]
                                                },
                                                "fileShareServices": {
                                                    "oneOf": [
                                                        {
                                                            "type": "null"
                                                        },
                                                        {
                                                            "type": "object",
                                                            "properties": {
                                                                "fileShares": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "type": "object",
                                                                        "properties": {
                                                                            "name": {
                                                                                "type": "string"
                                                                            },
                                                                            "accessTier": {
                                                                                "type": "string",
                                                                                "oneOf": [
                                                                                    {
                                                                                        "const": "cool"
                                                                                    },
                                                                                    {
                                                                                        "const": "hot"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        },
                                                                        "required": [
                                                                            "name",
                                                                            "accessTier"
                                                                        ]
                                                                    }
                                                                },
                                                                "privateEndpoint": {
                                                                    "oneOf": [
                                                                        {
                                                                            "type": "object",
                                                                            "properties": {
                                                                                "name": {
                                                                                    "type": "string"
                                                                                },
                                                                                "privateDnsZone": {
                                                                                    "type": "string"
                                                                                },
                                                                                "privateDnsZoneResourceGroup": {
                                                                                    "type": "string",
                                                                                    "description": ""
                                                                                },
                                                                                "virtualNetwork": {
                                                                                    "type": "string"
                                                                                },
                                                                                "virtualNetworkSubnet": {
                                                                                    "type": "string"
                                                                                },
                                                                                "virtualNetworkResourceGroup": {
                                                                                    "type": "string"
                                                                                }
                                                                            },
                                                                            "required": [
                                                                                "name",
                                                                                "privateDnsZone",
                                                                                "privateDnsZoneResourceGroup",
                                                                                "virtualNetwork",
                                                                                "virtualNetworkSubnet",
                                                                                "virtualNetworkResourceGroup"
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "null"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            "required": [
                                                                "fileShares",
                                                                "privateEndpoint"
                                                            ]
                                                        }
                                                    ]
                                                }
                                            },
                                            "if": {
                                                "properties": {
                                                    "type": {
                                                        "oneOf": [
                                                            {
                                                                "const": "Storage"
                                                            },
                                                            {
                                                                "const": "StorageV2"
                                                            }
                                                        ]
                                                    }
                                                }
                                            },
                                            "then": {
                                                "properties": {
                                                    "tier": {
                                                        "type": "object",
                                                        "properties": {
                                                            "dev": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "Standard"
                                                                    },
                                                                    {
                                                                        "const": "Premium"
                                                                    }
                                                                ]
                                                            },
                                                            "qa": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "Standard"
                                                                    },
                                                                    {
                                                                        "const": "Premium"
                                                                    }
                                                                ]
                                                            },
                                                            "uat": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "Standard"
                                                                    },
                                                                    {
                                                                        "const": "Premium"
                                                                    }
                                                                ]
                                                            },
                                                            "prd": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "Standard"
                                                                    },
                                                                    {
                                                                        "const": "Premium"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        "required": [
                                                            "dev",
                                                            "qa",
                                                            "uat",
                                                            "prd"
                                                        ]
                                                    },
                                                    "redundancy": {
                                                        "type": "object",
                                                        "properties": {
                                                            "dev": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "lrs"
                                                                    },
                                                                    {
                                                                        "const": "grs"
                                                                    },
                                                                    {
                                                                        "const": "grzs"
                                                                    }
                                                                ]
                                                            },
                                                            "qa": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "lrs"
                                                                    },
                                                                    {
                                                                        "const": "grs"
                                                                    },
                                                                    {
                                                                        "const": "grzs"
                                                                    }
                                                                ]
                                                            },
                                                            "uat": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "lrs"
                                                                    },
                                                                    {
                                                                        "const": "grs"
                                                                    },
                                                                    {
                                                                        "const": "grzs"
                                                                    }
                                                                ]
                                                            },
                                                            "prd": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "lrs"
                                                                    },
                                                                    {
                                                                        "const": "grs"
                                                                    },
                                                                    {
                                                                        "const": "grzs"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        "required": [
                                                            "dev",
                                                            "qa",
                                                            "uat",
                                                            "prd"
                                                        ]
                                                    }
                                                }
                                            },
                                            "else": {
                                                "properties": {
                                                    "tier": {
                                                        "type": "object",
                                                        "properties": {
                                                            "dev": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "Premium"
                                                                    }
                                                                ]
                                                            },
                                                            "qa": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "Premium"
                                                                    }
                                                                ]
                                                            },
                                                            "uat": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "Premium"
                                                                    }
                                                                ]
                                                            },
                                                            "prd": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "Premium"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        "required": [
                                                            "dev",
                                                            "qa",
                                                            "uat",
                                                            "prd"
                                                        ]
                                                    },
                                                    "redundancy": {
                                                        "type": "object",
                                                        "properties": {
                                                            "dev": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "lrs"
                                                                    }
                                                                ]
                                                            },
                                                            "qa": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "lrs"
                                                                    }
                                                                ]
                                                            },
                                                            "uat": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "lrs"
                                                                    }
                                                                ]
                                                            },
                                                            "prd": {
                                                                "type": "string",
                                                                "oneOf": [
                                                                    {
                                                                        "const": "lrs"
                                                                    }
                                                                ]
                                                            }
                                                        },
                                                        "required": [
                                                            "dev",
                                                            "qa",
                                                            "uat",
                                                            "prd"
                                                        ]
                                                    }
                                                }
                                            },
                                            "required": [
                                                "name",
                                                "type",
                                                "tier",
                                                "accessTier",
                                                "defaultNetworkAccess",
                                                "virtualNetworks",
                                                "resourceAccess",
                                                "blobServices",
                                                "tableServices",
                                                "queueServices",
                                                "fileShareServices"
                                            ]
                                        }
                                    },
                                    "required": [
                                        "name",
                                        "os",
                                        "sku",
                                        "storage"
                                    ]
                                }
                            }
                        }
                    }
                }
            },
            "required": [
                "value"
            ]
        },
        "app-service-auth-settings": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "type": "object",
                    "default": {
                        "azureIdentity": {
                            "clientId": "",
                            "clientSecretName": "",
                            "openIdIssuer": "https://sts.windows.net/{tenant Id} or https://login.microsoft.com/{tenant Id}"
                        }
                    },
                    "properties": {
                        "appServiceAuthAction": {
                            "type": "string",
                            "description": "The unauthenticated action",
                            "oneOf": [
                                {
                                    "const": "RedirectToLoginPage"
                                },
                                {
                                    "const": "AllowAnonymous"
                                },
                                {
                                    "const": "Return401"
                                },
                                {
                                    "const": "Return403"
                                }
                            ]
                        },
                        "appServiceAuthIdentityProvider": {
                            "type": "string",
                            "oneOf": [
                                {
                                    "const": "AzureAD"
                                },
                                {
                                    "const": "Google"
                                },
                                {
                                    "const": "Github"
                                },
                                {
                                    "const": "Facebook"
                                }
                            ]
                        },
                        "appServiceAuthIdentityClientSecretName": {
                            "type": "string"
                        },
                        "appServiceAuthIdentityClientId": {
                            "type": "object",
                            "properties": {
                                "dev": {
                                    "type": "string"
                                },
                                "qa": {
                                    "type": "string"
                                },
                                "uat": {
                                    "type": "string"
                                },
                                "prd": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "dev",
                                "qa",
                                "uat",
                                "prd"
                            ]
                        },
                        "appServiceAuthIdentityOpenIdIssuer": {
                            "type": "object",
                            "properties": {
                                "dev": {
                                    "type": "string"
                                },
                                "qa": {
                                    "type": "string"
                                },
                                "uat": {
                                    "type": "string"
                                },
                                "prd": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "dev",
                                "qa",
                                "uat",
                                "prd"
                            ]
                        },
                        "appServiceAuthIdentityScopes": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "appServiceAuthIdentityAudiences": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "appServiceAuthIdentityGraphApiVersion": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "appServiceAuthAction",
                        "appServiceAuthIdentityProvider",
                        "appServiceAuthIdentityClientId",
                        "appServiceAuthIdentityClientSecretName",
                        "appServiceAuthIdentityOpenIdIssuer",
                        "appServiceAuthIdentityScopes",
                        "appServiceAuthIdentityAudiences",
                        "appServiceAuthIdentityGraphApiVersion"
                    ]
                }
            ]
        }
    }
}